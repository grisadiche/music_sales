%section.jumbotron.text-center
  .container
    = "#{@sort_option}"
    %h1.jumbotron-heading List of Equipment
    - if user_signed_in?
      %p.lead.text-muted Below is your inventory of available equipment.
    - else
      %p.lead.text-muted Below is the entire inventory of available equipment.
    .d-flex.justify-content-center
      .btn-toolbar{"aria-label" => "Toolbar with button groups", :role => "toolbar"}
        .btn-group.mr-2{"aria-label" => "First group", :role => "group"}
          %a= link_to "Add a new item", new_item_path, :class => 'btn btn-primary my-2'
        .btn-group.mr-2{"aria-label" => "First group", :role => "group"}
          .dropdown
          %button#dropdownMenuButton.btn.btn-secondary.my-2.dropdown-toggle{"aria-expanded" => "false", "aria-haspopup" => "true", "data-toggle" => "dropdown", :type => "button"} Sort By:
          .dropdown-menu{"aria-labelledby" => "dropdownMenuButton"}
            %a.dropdown-item{:href => items_path} Price (Low - High)
            %a.dropdown-item{:href => items_path} Price (High - Low)
            %a.dropdown-item{:href => items_path} Manufacturer (A-Z)
            %a.dropdown-item{:href => items_path} Manufacturer (Z-A)
//re-load items_path with new @items array. sort the @items array for each? or sort within sql?

.album.py-5.bg-light
  .container
    .row
      - @items.each do |x|
        .card{:style => "width: 22rem;"}
          .card-header= link_to "#{x.manufacturer} #{x.model}", item_path(x), :class => 'btn btn-outline-secondary'
          %img.card-img-top{:alt => "Card image cap", :width => "240", :height => "320", :src => "#{x.photo_link}"}
            .card-body
              %p.card-text= "#{x.description}"
              .d-flex.justify-content-between.align-items-center
                .btn-group
                  %a= link_to "Show Item", item_path(x), :class => 'btn btn-default btn-sm'
                  - if current_user&.id == x.user_id
                    %a= link_to "Edit Item", edit_item_path(x), :class => 'btn btn-default btn-sm'
                    %a= link_to "Delete Item", item_path(x), method: :delete, data: { confirm: "Are you sure you'd like to delete?" }, :class => 'btn btn-danger btn-sm'
                %small.text-muted= "$" + x.price.to_s
